!function(){"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(){var X;e.g.importScripts&&(X=e.g.location+"");var t=e.g.document;if(!X&&t&&(t.currentScript&&(X=t.currentScript.src),!X)){var n=t.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&!X;)X=n[o--].src}if(!X)throw new Error("Automatic publicPath is not supported in this browser");X=X.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=X}();var X=[[{name:"Chess",picture:[["X"," ","X"," ","X"],[" ","X"," ","X"," "],["X"," ","X"," ","X"],[" ","X"," ","X"," "],["X"," ","X"," ","X"]],helpHead:[],helpSied:[]},{name:"Tower",picture:[["X"," ","X"," ","X"],["X","X","X","X","X"],[" ","X","X","X"," "],[" ","X"," ","X"," "],[" ","X","X","X"," "]],helpHead:[],helpSied:[]},{name:"Smile",picture:[["X","X"," ","X","X"],["X","X"," ","X","X"],[" "," "," "," "," "],["X"," "," "," ","X"],[" ","X","X","X"," "]],helpHead:[],helpSied:[]},{name:"Stairs",picture:[[" "," "," ","X","X"],[" "," ","X","X","X"],[" ","X","X"," ","X"],["X","X"," "," ","X"],["X","X","X","X","X"]],helpHead:[],helpSied:[]},{name:"Cross",picture:[[" ","X","X","X"," "],["X","X"," ","X","X"],["X"," "," "," ","X"],["X","X"," ","X","X"],[" ","X","X","X"," "]],helpHead:[],helpSied:[]}],[{name:"Tree",picture:[[" "," ","X","X","X","X","X","X"," "," "],[" ","X","X","X","X"," ","X","X","X"," "],["X","X","X","X","X"," ","X","X","X","X"],["X","X"," ","X","X","X"," "," ","X","X"],["X","X","X"," ","X","X","X","X","X"," "],[" ","X","X","X","X","X"," "," "," "," "],[" "," "," "," ","X","X","X"," "," "," "],[" "," "," "," ","X","X"," "," "," "," "],[" ","X"," "," ","X","X"," "," "," ","X"],["X","X","X","X","X","X","X","X","X","X"]],helpHead:[],helpSied:[]},{name:"Poastcard",picture:[["X","X","X","X","X","X","X","X","X","X"],["X"," "," "," "," "," "," "," "," ","X"],["X"," "," "," "," "," "," ","X"," ","X"],["X"," ","X","X","X"," "," "," "," ","X"],["X"," "," "," "," "," "," "," "," ","X"],["X"," ","X","X","X"," "," "," "," ","X"],["X"," "," "," "," "," "," "," "," ","X"],["X"," ","X","X","X"," "," "," "," ","X"],["X"," "," "," "," "," "," "," "," ","X"],["X","X","X","X","X","X","X","X","X","X"]],helpHead:[],helpSied:[]},{name:"Cuppa",picture:[[" "," ","X"," ","X"," ","X"," "," "," "],[" "," ","X"," ","X"," ","X"," "," "," "],[" "," "," "," "," "," "," "," "," "," "],[" ","X","X","X","X","X","X","X"," "," "],[" ","X","X","X","X","X","X","X","X","X"],[" ","X","X"," ","X","X","X","X"," ","X"],[" ","X","X"," ","X","X","X","X","X"," "],[" ","X","X","X","X","X","X","X"," "," "],["X"," ","X","X","X","X","X"," "," ","X"],[" ","X","X","X","X","X","X","X","X"," "]],helpHead:[],helpSied:[]},{name:"Leaf",picture:[[" "," "," "," ","X","X","X","X","X","X"],[" "," "," ","X"," ","X"," ","X"," ","X"],[" "," ","X","X"," ","X"," ","X","X"," "],[" ","X"," ","X"," ","X","X"," ","X"," "],[" ","X"," ","X"," ","X","X","X","X"," "],[" ","X"," ","X","X"," "," "," ","X"," "],[" ","X","X","X","X","X","X","X","X"," "],[" "," ","X"," "," "," "," ","X"," "," "],[" ","X"," ","X","X","X","X"," "," "," "],["X","X"," "," "," "," "," "," "," "," "]],helpHead:[],helpSied:[]},{name:"Alarm",picture:[[" ","X","X"," "," "," "," ","X","X"," "],["X","X"," ","X","X","X","X"," ","X","X"],["X"," ","X","X","X"," ","X","X"," ","X"],[" ","X","X","X","X"," ","X","X","X"," "],[" ","X","X","X","X"," ","X","X","X"," "],[" ","X","X","X"," ","X","X","X","X"," "],[" ","X","X"," ","X","X","X","X","X"," "],[" "," ","X","X","X","X","X","X"," "," "],[" "," "," ","X","X","X","X"," "," "," "],[" "," ","X","X"," "," ","X","X"," "," "]],helpHead:[],helpSied:[]}],[{name:"Mouse",picture:[[" "," "," "," "," "," "," "," "," "," "," "," ","X","X","X"],[" "," "," "," "," ","X","X","X","X"," "," ","X","X"," ","X"],[" "," "," ","X","X","X"," "," ","X"," "," ","X"," ","X"," "],["X","X","X"," ","X"," "," ","X","X"," "," ","X"," "," "," "],["X","X"," "," "," "," "," ","X"," "," "," ","X","X"," "," "],[" ","X","X","X","X"," "," ","X","X"," "," "," ","X","X"," "],[" "," "," "," ","X","X"," "," ","X","X"," "," "," ","X","X"],[" "," "," "," "," ","X"," "," "," ","X","X","X"," "," ","X"],[" "," "," "," "," ","X","X"," "," "," "," ","X","X"," ","X"],[" "," "," ","X","X","X","X"," "," "," "," "," ","X","X","X"],[" "," "," ","X"," ","X"," "," ","X","X"," "," "," ","X","X"],[" "," "," "," "," ","X"," "," ","X"," "," "," "," ","X"," "],[" "," "," "," "," "," ","X"," ","X"," "," "," "," ","X"," "],[" "," "," "," "," ","X","X","X","X","X"," "," ","X","X"," "],[" "," "," ","X","X","X"," ","X","X"," ","X","X","X"," "," "]],helpHead:[],helpSied:[]},{name:"Castle",picture:[[" "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "],[" "," "," "," "," "," ","X","X"," "," "," "," "," "," "," "],[" "," "," "," "," "," ","X","X","X"," "," "," "," "," "," "],["X","X"," ","X","X"," ","X"," "," "," ","X","X"," ","X","X"],["X","X","X","X","X"," ","X"," "," "," ","X","X","X","X","X"],["X"," "," "," ","X"," ","X"," "," "," ","X"," "," "," ","X"],["X"," ","X"," ","X"," ","X"," "," "," ","X"," ","X"," ","X"],["X"," ","X"," ","X","X","X","X","X","X","X"," ","X"," ","X"],["X"," "," "," "," "," "," "," "," "," "," "," "," "," ","X"],["X"," "," ","X"," "," "," "," "," "," "," ","X"," "," ","X"],["X"," ","X","X","X"," "," ","X"," "," ","X","X","X"," ","X"],["X"," "," ","X"," "," ","X","X","X"," "," ","X"," "," ","X"],["X"," "," ","X"," "," ","X","X","X"," "," ","X"," "," ","X"],["X"," "," "," "," "," ","X","X","X"," "," "," "," "," ","X"],["X","X","X","X","X","X","X","X","X","X","X","X","X","X","X"]],helpHead:[],helpSied:[]},{name:"Clover",picture:[[" "," "," "," "," ","X","X"," ","X","X"," "," "," "," "," "],[" "," "," "," ","X","X","X","X","X","X","X"," "," "," "," "],[" "," "," "," ","X","X","X","X","X","X","X"," "," "," "," "],[" "," "," "," ","X","X","X","X","X","X","X"," "," "," "," "],[" ","X","X","X"," ","X","X","X","X","X"," ","X","X","X"," "],["X","X","X","X","X"," ","X","X","X"," ","X","X","X","X","X"],["X","X","X","X","X","X"," ","X"," ","X","X","X","X","X","X"],[" ","X","X","X","X","X","X"," ","X","X","X","X","X","X"," "],["X","X","X","X","X","X"," ","X"," ","X","X","X","X","X","X"],["X","X","X","X","X"," "," ","X"," "," ","X","X","X","X","X"],[" ","X","X","X"," "," "," ","X"," "," "," ","X","X","X"," "],[" "," "," "," "," "," ","X","X"," "," "," "," "," "," "," "],[" "," "," "," "," ","X","X"," "," "," "," "," "," "," "," "],[" "," ","X","X","X","X"," "," "," "," "," "," "," "," "," "],[" "," ","X","X"," "," "," "," "," "," "," "," "," "," "," "]],helpHead:[],helpSied:[]},{name:"Sun",picture:[["X","X","X","X","X","X","X","X","X","X","X","X","X","X","X"],["X","X","X","X","X","X","X"," ","X","X","X","X","X","X","X"],["X","X"," ","X","X","X","X"," ","X","X","X","X"," ","X","X"],["X","X","X"," ","X","X","X","X","X","X","X"," ","X","X","X"],["X","X","X","X","X"," "," "," "," "," ","X","X","X","X","X"],["X","X","X","X"," "," "," "," "," "," "," ","X","X","X","X"],["X","X","X","X"," "," ","X"," ","X"," "," ","X","X","X","X"],["X"," "," ","X"," "," "," "," "," "," "," ","X"," "," ","X"],["X","X","X","X"," ","X"," "," "," ","X"," ","X","X","X","X"],["X","X","X","X"," "," ","X","X","X"," "," ","X","X","X","X"],["X","X","X","X","X"," "," "," "," "," ","X","X","X","X","X"],["X","X","X"," ","X","X","X","X","X","X","X"," ","X","X","X"],["X","X"," ","X","X","X","X"," ","X","X","X","X"," ","X","X"],["X","X","X","X","X","X","X"," ","X","X","X","X","X","X","X"],["X","X","X","X","X","X","X","X","X","X","X","X","X","X","X"]],helpHead:[],helpSied:[]},{name:"Duck",picture:[[" "," "," "," "," "," "," "," "," ","X","X","X"," "," "," "],[" "," "," "," "," "," "," "," ","X","X","X","X","X"," "," "],[" "," "," "," "," "," "," ","X","X","X","X"," ","X","X","X"],[" "," "," "," "," "," "," ","X","X","X","X","X","X","X"," "],[" "," "," "," "," "," "," "," ","X","X","X","X","X"," "," "],[" "," "," "," "," "," "," "," "," ","X","X","X"," "," "," "],[" "," "," "," "," "," "," "," ","X","X","X","X","X"," "," "],["X"," "," "," "," "," ","X","X","X","X","X","X","X","X"," "],["X","X","X"," "," ","X","X","X"," "," "," ","X","X","X"," "],["X","X","X","X","X","X","X"," ","X","X","X"," ","X","X"," "],[" ","X","X","X","X","X"," ","X","X","X","X"," ","X","X"," "],[" ","X","X","X","X","X","X","X","X"," "," ","X","X"," "," "],[" "," ","X","X","X","X","X","X","X","X","X","X"," "," "," "],[" "," "," "," ","X","X"," ","X","X","X"," "," "," "," "," "],[" "," "," "," "," "," ","X","X","X","X","X","X"," "," "," "]],helpHead:[],helpSied:[]}]],t=e.p+"assets/3de23ead0ca123acdae4.svg",n=e.p+"assets/d086f42fe6203fb3edb4.svg",o=e.p+"assets/1ec8848777e0f2ae554a.svg";console.log(X);const a=t;let c,r,l;function s(e){const X=[];for(let t=0;t<e.length;t++){const n=e[t].join("").split(" ");X[t]=[];for(let e=0;e<n.length;e++)n[e]&&X[t].push(n[e].length)}return X}function i(e){clearInterval(l);const n=document.querySelector(".nonogram__timer");n.innerText="00:00",g=!1,r=!0,console.log(e);const o=document.createElement("table");o.className="nonogram";const a=document.querySelector(".article-nonogram");a.replaceChild(o,document.querySelector(".nonogram")),e.helpSied=s(e.picture);const h=[];for(let X=0;X<e.picture.length;X++){h[X]=[];for(let t=0;t<e.picture.length;t++)h[X][t]=e.picture[t][X]}e.helpHead=s(h);let _=1;for(let X=0;X<e.picture.length+e.picture.length/5;X++){const t=document.createElement("tr");if(X==5*_+_&&_<e.picture.length/5){t.className="nonogram__border-head",o.appendChild(t),_++;continue}const n=0==X?" nonogram__row-help":"";t.className="nonogram__row"+n,o.appendChild(t);let a=1;for(let n=0;n<e.picture[0].length+e.picture.length/5;n++){const o=document.createElement("td");if(0==X&&n!=5*a+a){o.className="nonogram__head-help";const X=document.createElement("div");X.className="nonogram__head-help-container",o.appendChild(X),X.innerHTML=n>0?e.helpHead[n-a].join("<br>"):""}else if(0==n&&X>0)o.className="nonogram__side-help",o.innerText=e.helpSied[X-_].join(" ");else if(n==5*a+a&&a<e.picture.length/5)a++,o.className="nonogram__border";else{o.className="nonogram__cell",c=!0,o.addEventListener("click",d.bind(null,e.picture,o,e)),o.addEventListener("contextmenu",p);const X=new Image;X.className="nonogram__img",o.appendChild(X)}t.appendChild(o)}}const v=document.createElement("section");v.className="nonogram__container-buttons",a.replaceChild(v,document.querySelector(".nonogram__container-buttons"));const f=document.createElement("button");f.className="nonogram__button nonogram__random-game",f.innerText="Random",f.addEventListener("click",(()=>{!function(e){const t=Math.floor(Math.random()*X.length);let n;do{console.log("ss"),n=Math.floor(Math.random()*X[t].length)}while(e.name==X[t][n].name);i(X[t][n])}(e)})),v.appendChild(f);const E=document.createElement("button");E.className="nonogram__button nonogram__restart",E.innerText="Restart",E.addEventListener("click",(()=>i(e))),v.appendChild(E);const N=document.createElement("button");N.className="nonogram__button nonogram__save-game",N.innerText="Save",N.addEventListener("click",(()=>{if(!r)return;r=!1;const X=document.querySelectorAll(".nonogram__img");let t=[];for(const e of X)t.push(e.src.includes("assets")?e.src:"");const o=(new Date).getTime();u(".nonogram__img"),localStorage.setItem("@Barvinko-Nonograms__save-nonograms",JSON.stringify({nonogram:e,timeText:n.innerHTML,time:o-g,progress:t}))})),v.appendChild(N);const S=document.createElement("button");S.className="nonogram__button nonogram__upload-game",S.innerText="Upload",S.addEventListener("click",m),v.appendChild(S);const b=document.createElement("button");b.className="nonogram__button nonogram__solution-game",b.innerText="Solution",b.addEventListener("click",(()=>{u(".nonogram__img");const X=document.querySelectorAll(".nonogram__img"),n=e.picture.flat();for(let e=0;e<n.length;e++)X[e].src="X"==n[e]?t:""})),v.appendChild(b)}function m(){const e=JSON.parse(localStorage.getItem("@Barvinko-Nonograms__save-nonograms")),X=document.querySelector(".nonogram__timer");console.log(e),i(e.nonogram);const t=document.querySelectorAll(".nonogram__img");for(let X=0;X<t.length;X++)t[X].src=""!=e.progress[X]?e.progress[X]:"";X.innerText=e.timeText,_(e.time)}function d(e,X,n){if(!c)return;_();const o=X.children[0];o.src=o.src!=t?t:"",function(e,X){const n=document.querySelectorAll(".nonogram__img"),o=e.flat();let a=!0;for(let e=0;e<o.length;e++)("X"==o[e]&&n[e].src!=t||" "==o[e]&&n[e].src==t)&&(a=!1);if(a){const e=document.querySelector(".dialog-win"),t=document.querySelector(".nonogram__timer"),n=document.querySelector(".dialog-win__answer");e.showModal(),n.innerText=`Great! You have solved the nonogram in ${t.innerText} seconds!`,u(".nonogram__img"),localStorage.getItem("@Barvinko-Nonograms__wins")||localStorage.setItem("@Barvinko-Nonograms__wins",JSON.stringify([]));const o=JSON.parse(localStorage.getItem("@Barvinko-Nonograms__wins"));5==o.length&&o.shift(),o.push({name:X.name,level:X.helpHead.length,time:t.innerText}),localStorage.setItem("@Barvinko-Nonograms__wins",JSON.stringify(o)),f()}}(e,n)}function p(e){_(),e.preventDefault();const X=e.currentTarget.children[0];X.src=X.src!=o?o:""}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".nonogram__img";document.querySelectorAll(e).forEach((e=>{e.parentNode.removeEventListener("contextmenu",p)})),clearInterval(l),c=!1}function h(e){const X=document.querySelector(".switch-nonogram");if(e.classList.contains("header__button-aside_active"))return e.classList.remove("header__button-aside_active"),void X.classList.remove("switch-nonogram_active");e.classList.add("header__button-aside_active"),X.classList.add("switch-nonogram_active")}let g=!1;function _(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const X=document.querySelector(".nonogram__timer");g||(g=(new Date).getTime()-e,l=setInterval((function(){function e(e){return e<10?`0${e}`:e}let t=(new Date).getTime(),n=Math.floor((t-g)/1e3),o=Math.floor(n/60),a=n%60;X.innerText=`${e(o)}:${e(a)}`}),1e3))}function v(e){const X=document.createElement("div");X.innerHTML="&#9728",e.target.innerHTML=e.target.innerHTML==X.innerHTML?"&#9789":"&#9728";const c=document.querySelector(".header"),r=document.querySelector(".main"),l=document.querySelector(".article-nonogram"),s=document.querySelector(".switch-nonogram"),i=document.querySelector(".nonogram"),m=document.querySelector(".nonogram__button"),d=document.querySelectorAll(".nonogram__img");e.target.innerHTML!=X.innerHTML?(t=n,c.classList.add("header_style-active"),r.classList.add("main_style-active"),l.classList.add("article-nonogram_style-active"),s.classList.add("switch-nonogram_style-active"),i.classList.add("nonogram_style-active"),m.classList.add("nonogram__button_style-active")):(console.log(a),t=a,c.classList.remove("header_style-active"),r.classList.remove("main_style-active"),l.classList.remove("article-nonogram_style-active"),s.classList.remove("switch-nonogram_style-active"),i.classList.remove("nonogram_style-active"),m.classList.remove("nonogram__button_style-active")),d.forEach((e=>{""!=e.src&&e.src!=o&&(e.src=t)}))}function f(){const e=document.querySelector(".top-nonogram"),X=document.createElement("table");X.className="top-nonogram__table",e.replaceChild(X,document.querySelector(".top-nonogram__table"));const t=document.createElement("tr");t.className="top-nonogram__title-row",X.appendChild(t);const n=document.createElement("th");n.className="top-nonogram__number",n.innerText="#",t.appendChild(n);const o=document.createElement("th");o.className="top-nonogram__name",o.innerText="Name",t.appendChild(o);const a=document.createElement("th");a.className="top-nonogram__level",a.innerText="Level",t.appendChild(a);const c=document.createElement("th");c.className="top-nonogram__time",c.innerText="Time",t.appendChild(c);let r=JSON.parse(localStorage.getItem("@Barvinko-Nonograms__wins"));r.sort(((e,X)=>60*parseInt(e.time.split(":")[0])+parseInt(e.time.split(":")[1])-(60*parseInt(X.time.split(":")[0])+parseInt(X.time.split(":")[1])))),r.forEach(((e,t)=>{const n=document.createElement("tr");n.className="top-nonogram__row",X.appendChild(n);for(let X=0;X<4;X++){const o=document.createElement("td");switch(o.className="top-nonogram__column",n.appendChild(o),X){case 0:o.innerText=t+1;break;case 1:o.innerText=e.name;break;case 2:o.innerText=`${e.level}x${e.level}`;break;case 3:o.innerText=e.time}}}))}function E(e){const X=document.querySelector(".top-nonogram"),t=e.target;t.classList.contains("header__button-top_active")?(t.classList.remove("header__button-top_active"),X.classList.remove("top-nonogram_active")):(t.classList.add("header__button-top_active"),X.classList.add("top-nonogram_active")),f()}(()=>{const e=document.createElement("div");e.className="container",document.body.appendChild(e);const t=document.createElement("header");t.className="header",e.appendChild(t);const n=document.createElement("div");n.className="header__head-left",t.appendChild(n);const o=document.createElement("button");o.className="header__button header__button-aside",o.innerText="Choose Nonogram",o.addEventListener("click",(()=>h(o))),n.appendChild(o);const a=document.createElement("button");a.className="header__button header__history",a.innerText="History",a.addEventListener("click",E),n.appendChild(a);const c=document.createElement("button");c.className="header__button header__button-background",c.innerHTML="&#9728",c.addEventListener("click",v),t.appendChild(c);const r=document.createElement("main");r.className="main",e.appendChild(r);const l=document.createElement("aside");l.className="switch-nonogram",r.appendChild(l),X.forEach(((e,X)=>{const t=document.createElement("section");t.className="switch-nonogram__section",l.appendChild(t);const n=document.createElement("h2");n.className="switch-nonogram__title",n.innerText=`${5*(X+1)}x${5*(X+1)}`,t.appendChild(n),e.forEach((e=>{const n=document.createElement("div");n.className="switch-nonogram__container",n.addEventListener("click",(()=>i(e))),n.addEventListener("click",(()=>h(o))),t.appendChild(n);const a=document.createElement("canvas");a.width=100,a.height=100,a.className="switch-nonogram__canvas",n.appendChild(a);const c=document.createElement("h4");c.className="switch-nonogram__name",c.innerText=e.name,n.appendChild(c);const r=a.getContext("2d"),l=20/(X+1);for(let X=0;X<e.picture.length;X++)for(let t=0;t<e.picture[X].length;t++){const n=t*l,o=X*l;r.fillStyle="X"===e.picture[X][t]?"black":"rgba(0, 0, 0, 0)",r.fillRect(n,o,l,l)}}))}));const s=document.createElement("aside");s.className="top-nonogram",r.appendChild(s);const m=document.createElement("h2");m.className="top-nonogram__title",m.innerText="History of wins",s.appendChild(m);const d=document.createElement("table");d.className="top-nonogram__table",s.appendChild(d);const p=document.createElement("article");p.className="article-nonogram",r.appendChild(p);const u=document.createElement("table");u.className="nonogram",p.appendChild(u);const g=document.createElement("div");g.className="nonogram__timer",p.appendChild(g);const _=document.createElement("section");_.className="nonogram__container-buttons",p.appendChild(_);const f=document.createElement("dialog");f.className="dialog-win",e.appendChild(f);const N=document.createElement("div");N.className="dialog-win__casing",f.appendChild(N);const S=document.createElement("div");S.className="dialog-win__container",N.appendChild(S);const b=document.createElement("h1");b.className="dialog-win__answer",b.innerHTML="Great! You have solved the nonogram!",S.appendChild(b);const C=document.createElement("button");C.className="dialog-win__button",C.innerText="OK",S.appendChild(C),C.addEventListener("click",(()=>f.close()));const y=Math.floor(Math.random()*X[0].length);i(X[0][y])})()}();